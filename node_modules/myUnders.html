<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	my underscore   underscore 源码解读
	<script>
		
	;(function(){
//		console.log(this);
//		获得全局对象 
		var root = this;	
//		对外暴露的  _Tur    ;
		var periousUnderscore = root._Tur;
//		获得原型上的函数
		var ArrayProto = Array.prototype,ObjProto =  Object.prototype ,FuncProto = Function.prototype;
//		console.log(FuncProto) ;console.log(ArrayProto) ;console.log(ObjProto) ;
				
//		拿到原型上已经集成的函数  减少作用域琏的查找。 
		var push = ArrayProto.push,
			slice = ArrayProto.slice,
			toString = ObjProto.toString,
			hasOwnProperty = ObjProto.hasOwnProperty;

// All **ECMAScript 5** native function implementations that we hope to use
// are declared here.		
		var nativeIsArray = Array.isArray,
			nativeKeys = Object.keys,
			nativeBind = FuncProto.bind,
			nativeCreate = Object.create;
		

// Create a safe reference to the Underscore object for use below.  创建一个 安全的underscore对象   引用。  ☆
//   
		var _Tur = function(obj) {
			console.log(this);
			if (obj instanceof _Tur) return obj;
			if (!(this instanceof _Tur)) return new _Tur(obj);
			this._wrapped = obj;
		};


//		用于判断是否是node.js　运行环境  。 nodejs 环境用module.exprots 暴露                    ☆
		if( typeof exports !== 'undefined'){
			if(typeof module !== 'undefined' && module.exports ){
				exports = module.exports = _Tur;
			}
			exports._Tur = _Tur;
		}else{
			root._Tur = _Tur; 
		}
		
		_Tur.Version = '0.01';
		
		// Naked function reference for surrogate-prototype-swapping. 用于原型交换   还没用到     *
  		var Ctor = function(){};
		// An internal function for creating a new object that inherits from another.
		//  创建一个从另一个继承的新对象的内部函数      要好好理解
		var baseCreate = function(prototype) {
		   if (!_Tur.isObject(prototype)) return {};
		   if (nativeCreate) return nativeCreate(prototype);
		   Ctor.prototype = prototype;
		   var result = new Ctor;
		   Ctor.prototype = null;
		   return result;
		};
		
		var property = function(key) {
		   return function(obj) {
		     return obj == null ? void 0 : obj[key];
		   };
		};


		
		
		
		
		
	}.call(this))
	
	</script>
</body>
</html>